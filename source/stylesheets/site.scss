@import 'global/_variables.scss';
@import 'global/_normalize.scss';
@import 'global/_animations.scss';
@import 'global/_mq.scss';
@import 'global/_type.scss';
@import 'highlighting.css';
@import 'global/_print.scss';
@import 'components/_case-top.scss';
@import 'components/_header.scss';

@lost flexbox flex;
@lost gutter 32px;

.blog-wrap {
	height: 100%;
}

.blog-case {
	h3 {
		margin: 0;
	}
	&:first-child {

	}
	a {
		padding: 2.5rem 0 2.5rem 0;
		display: inline-block;
		width: 100%;
		@include mq(sm) {
			padding: 2.5rem 16% 2.5rem 0;
		}
	}
	p {
		font-family: 'NeueHaasUnica-medium', sans-serif;
		margin: 0;
	}
}

.blog-sidebar {
	float: left;
	width: 100%;
	@include mq(sm) {
		width: 60%;
	}
	@include mq(md) {
		width: 40%;
	}
}

.blog-image {
	background: #eee;
	position: fixed;
	top:0;
	right: 0;
	height: 100%;
	width: 0%;
	display: none;
	@include mq(sm) {
		width: 40%;
		display: block;
	}
	@include mq(md) {
		width: 60%;
	}
}

.blog-image-wrapper {
	height: 100%;
	position: relative;
	overflow:hidden;
}


.blog-image-container {
	height: 100%;
	opacity: 0;
	position: absolute;
	left: 0;
	transition: 1s $bezier all;
	top: 0;
	display: flex;
	width: 100%;
	&.active {
		z-index: 1;
		opacity: 1;
		img {transform: translateX(0);}
	}
	img {
		position: absolute;
		object-fit: contain;
		width: 100vw;
		transform: translateX(16px);
		transition: 1s $bezier all;
		padding: 3rem 0 3rem 3rem;
		height: 100vh;
	}
}

html, body {
	height: 100%;
}

.verbose-shape {
	position: relative;
	z-index: -1;
	transform: none;
	padding: 2rem;
	margin-top: 0;
	width: 100%;
	max-width: 640px;
	@include mq(sm) {
		margin-top: -12rem;
	}
	@include mq(md) {
    @include isometric($inverted: false);
		left: -40%;
		margin-top: -20rem;
		position: absolute;
		display: block;
	}

	img {
		@include mq(md) {
			left: -45%;
			position: relative;
			transform: translateY(-28%);
			filter:drop-shadow(-28px 32px 18px rgba(0,0,0,0.1));
			object-fit: contain;
			max-height: 480px;
		}

	}
}
.case_logotypes .hero-devices .hero-computer img {
	max-width: 560px;
}
.hero-devices {
	overflow: hidden;
	z-index: 1;
	position: relative;
	width: 100%;
	transform: none;
	margin-bottom: 0;
	.hero-computer {
		width: 100%;
		max-width: 90rem;
		@include mq(md) {
			width: 100vw;
			transform: translateX(24%);
		}
	}
	.hero-phone {
		position: absolute;
		width: 20%;
		transform: translateY(40%) translateX(-100%);
		top: 0px;
		left: 0px;
		display:none;
		@include mq(md) {
			display: block;
		}
	}
}

.row {
	max-width: $max-width;
	margin: 0 auto;
	width: 92%;
}

.row.blog {
	max-width: $max-width / 2;
	margin-bottom: 8rem;
	position: relative;
	margin-top: 0;
	@include mq (sm) {
		margin-top: 12rem;
	}
	img {
		width: 100%;
		margin: 0;
		@include mq(md) {
			width: calc(100% + 6rem);
			margin: 4rem 0rem 4rem -3rem;
		}
	}
	ul {
		li {
			margin-bottom: 1rem;
		}
	}
	h1 {
		margin-top: 0;
	}
}

.row-full {
	.tw {
		top: 4rem;
		margin-top: -3rem;
		position: relative;
		@include mq(md) {
			top: 14rem;
			margin-top: -13rem;
		}
		@include mq(lg) {
			top: 18rem;
			margin-top: -14rem;
		}
		// @include mq(lg) {
		// 	top: 24rem;
		//   margin-top: -20rem;
		// }
	}
	.image-pull-left {
		position: relative;
		z-index: -1;
		.case-section-image {
			width: 100%;
			margin: 0 auto 5rem;
			img {
				max-width: $max-width;
				margin: 0 auto;
				@include mq(md) {
					transform: translateX(-16%);
				}
			}
		}
	}
	.image-pull-right {
		position: relative;
		z-index: -1;
		.image-component {
			width: 100%;
			margin: 0 auto 5rem;
			img {
				max-width: $max-width;
				margin: 0 auto;
				@include mq(md) {
					transform: translateX(16%);
				}
			}
		}
	}
}

.profile-sections {
	lost-center:$max-width;
}
.profile-section {
	border-top: 1px solid rgba(0,0,0,0.1);
	padding:1rem 0;
	width: 100%;
	@include mq(sm) {
		lost-column: 1/2;
	}
	@include mq(md) {
		padding:3rem 0;
		lost-column: 1/1;
	}
	h4 {
		margin: 0;
		@include mq(md) {
			float: left;
			width: 240px;
		}
	}
	&-section {
		margin-bottom: 4rem;
	}
	ul {
		margin: 1rem 0 0 0 ;
		padding: 0;
		@include mq(md) {
			column-count: 2;
			column-gap: 2rem;
			padding-left: 2rem;
			margin: 0;
		}
		li {
			display: inline-block;
			word-break: break-word;
			list-style: none;
			width: 100%;
			margin: 0 0 0.75rem 0;
			p {
				margin: 0;
			}
		}
	}
}

a.cta {
	display: inline-block;
	&:hover {
		border-color: #000;
	}
	&:after {
		content:'\2192';
		margin-left: 0.5rem;
	}
}

.center-v {
	display: flex;
	align-items: center;
}
.ct {
	text-align: center;
}

.intro {
	padding: 1.5rem 0;
	overflow: hidden;
	position: relative;
	&-text {
		margin: 0 auto;
		padding: 0 1.5rem;
	}
	@include mq(md) {
		padding: 6rem 0;
	}
}

.ingress {
	h3 {
		font-size: 1.5rem;
		margin-top:0;
	}
	lost-column: 1/1 0;
	@include mq(md) {
		lost-column: 2/3 0;
		h3 {
			font-size: 1.75rem;
		}
	}
}

.tw {
	lost-center: $max-width / 2;
	flex-direction: column;
	width: 100%;
	margin-top: 2rem;
	margin-bottom: 2rem;
	padding: 0 1rem;
	@include mq(md) {
		margin-top: 3rem;
		margin-bottom: 3rem;
	}
	p {
		margin: 0 0 1rem 0;
	}
}

.case-section .tw {
	@include mq(md) {
		margin-top: 3.5rem;
		margin-bottom: 3.5rem;
	}
}

.grid.half {
	lost-center: $max-width;
	& > * {
		margin-bottom: 2rem;
		lost-column: 1/1;
		@include mq(md) {
			lost-column: 1/2;
		}
	}
}

.cases .loadme{
	img {
		transition: 1s $bezier all;
		opacity: 0;
		transform: translateY(-32px);
	}
	&.image-loaded {
		img {
			opacity: 1;
			transform: none;
		}
	}
}

.no-js {
	.case-section-image.loadme {
		background: transparent;
		img {
			opacity: 1;
		}
	}
	.cases .case-bg img {
		opacity: 1;
	}
}

.is-broken {
	&:after {
		content: 'Image broken ðŸ™ˆ';
		display: block;
		text-align: center;
		width: 200px;
		position: absolute;
		top: 50%;
		left: 50%;
		transform: translateY(-50%) translateX(-50%);
	}
	img {
		visibility: hidden;
	}
}

.case-section-image.loadme {
	background: rgba(0,0,0,0.06);
	img {
		transition: 1s $bezier all;
		opacity: 0;
	}
	&.image-loaded {
		background: transparent;
		img {
			opacity: 1;
		}
	}
}

.blog-image-container.loadme {
	background: rgba(0,0,0,0.06);
	img {
		transition: 1s $bezier all;
		opacity: 0;
	}
	&.image-loaded {
		background: transparent;
		img {
			opacity: 1;
		}
	}
}

.case-section {
	lost-center: $max-width;
	padding: 0 5vw;
	position: relative;
	margin-bottom: 2rem;
	.case-section-image {
		width: 100%;
		margin-bottom: 5vw;
		img {
			filter: drop-shadow(20px 30px 30px rgba(0, 0, 0, 0.1));
		}
	}
}

.case-image {
	position: relative;
	img {
		object-fit: contain;
		height: 100%;
	}
}
p.caption {
	position: absolute;
	bottom: 12px;
	left: 32px;
	right: 32px;
}
.sq {
	padding-bottom: 100%;
	position: relative;
}
.case-content {
	height: 100%;
	width: 100%;
	position: absolute;
	overflow: hidden;
	padding: 10%;
}

.cases {
	lost-center: $max-width;
	.case-image-wrapper {
		position: relative;
		img {
			position: absolute;
			top:0;
			left: 0;
			height: 100%;
			object-fit: contain;
		}
	}
	.case {
		lost-column: 12/12;
		position: relative;
		margin-bottom: 3rem;
		color: #000;
		@include mq(sm) {
			lost-column: 3/12 0;
			&.thepoetryhour {
				lost-column: 6/12 0;
			}
			&.volvo {
				lost-column: 3/12 1;
			}
			&.logotypes {
				lost-column: 5/12;
			}
			&.husqvarna {
				.case-bg {
					padding-bottom: 140%;
				}
			}
		}
		h4 {
			margin-top: 1rem;
			margin-bottom: 0.25rem;
			font-family: 'NeueHaasUnica-medium', sans-serif;
		}
		p {
			margin-top: 0;
		}
		&:hover {
			img {
				opacity: 0.7;
			}
		}
		&:focus {
			img {
				opacity: 0.4;
			}
		}
	}
	.case-bg {
		padding-bottom: 80%;
		position: relative;
		img {
			position: absolute;
			top: 0;
			left: 0;
			object-fit: contain;
			height: 100%;
		}
	}
}

.case-array {
	padding: 2rem 0;
	transition: 2s $bezier all;
	display: inline-block;
	width: 100%;
	h4 {
		margin-top: 1rem;
		margin-bottom: 0.5rem;
	}
	p.small {
		margin-top: 0;
	}
}
.case-array-content {
	lost-center: $max-width;
	padding: 2rem 0;
	@include mq(md) {
		justify-content: center;
	}
	&-item {
		lost-column: 1/2;
		text-align: center;
		margin-bottom: 2rem;
		@include mq(md) {
			lost-column: 1/4;
		}
		img {
			max-height: 110px;
			object-fit: contain;
		}
		&:only-child {
			margin: auto;
		}
	}
}

.highlight {
	padding: 2rem;
	display: inline-block;
	overflow: auto;
	width: 100%;
	@include mq(md) {
		width: calc(100% + 6rem);
		margin: 1rem 0rem 1rem -3rem;
	}
	code {
		white-space: pre;
	}
}

#main {
	margin-top: $header-height();
	display: flex;
	flex-direction: column;
	height: 100vh;
	.main-wrapper {
		flex: 1 0 auto;
		&.case {
			overflow-x: hidden;
		}
	}
	@include mq(md) {
		margin-top: 0;
	}
}

.case-shape {
	@include isometric();
	margin-top: -10rem;
	height: 880px;
	width: 100%;
	position: absolute;
	background: #f00;
	z-index: -1;
	@include mq(md) {
		margin-top: 4rem;

	}
}

code {
	font-family: monospace, serif;
	font-size: 1em;
	background: rgba(45,45,45,0.12);
	padding: 2px 6px;
	border-radius: 2px;
}

blockquote {
	border: 1px solid #eee;
	padding: 0 1rem;
}

.highlight {
	text-rendering: geometricPrecision;
	code {
		background: none;
		padding: 0;
	}
}

footer {
	.row {
		padding: 3rem 0;
	}
	.icon {
		margin-right: 1rem;
	}
}

kbd {
	display: inline-block;
	margin: 0 2px;
	padding: 4px 12px;
	font-family: sans-serif;
	line-height: 1;
	color: #ffffff;
	background: linear-gradient(#323435, #252525);
	border: 1px solid #444444;
	border-radius: 2px;
	box-shadow: 1px 1px 4px rgba(46, 48, 49, 0.5), 0 0 0 1px #000 inset, 0px 2px 0 0 rgba(255,255,255,0.05) inset;
	white-space: nowrap;
	text-rendering: geometricPrecision;
	text-shadow: 0px 0px 6px rgba(168, 199, 251, 0.24);
}

.icon {
	svg {
		fill: $color;
		height: 16px;
		display: inline-block;
		vertical-align: middle;
	}
	p {
		display: inline-block;
		vertical-align: middle;
		padding-left:0.25rem;
	}
	&:hover {
		svg {
			fill: #000;
			color: #000;
		}
	}
}

.cv {
	.row {
		position: relative;
	}
	h4 {
		text-transform: uppercase;
		letter-spacing: 2px;
		font-size: 8pt;
	}
	ul {
		padding: 0;
		list-style: inside;
		li {
			list-style: none;
			margin-bottom: 1rem;
		}
	}
	&-wrapper {
		lost-center: $max-width;
		margin-top: 4rem;
	}
	&-logo {
		position: absolute;
		top: 0.5cm;
		right: 0;
		svg {
			height: 0.5cm;
		}
	}
	h2 {margin-bottom:0;}
	h4 {margin-top:0;}
	&-main {
		lost-column: 2/3 3 60px;
		.cv-row {
			padding-bottom:0.25cm;
			h4 {
				float: left;
				margin: 0;
				max-width: 120px;
			}
			p {

				margin: 0 0 16px 120px;
			}
		}
	}
	&-side {
		lost-column: 1/3 3 60px;
		h4 {
			margin-top: 3rem;
			&:first-child {
				margin-top:0;
			}
		}
	}
}

hr {
	background-color: #ccc;
	height: 1px;
	border:0;
}

sup {
	font-family: 'NeueHaasUnica-medium', sans-serif;
	font-size: 12px;
}

img {
	width: 100%;
	display: block;
}

* {
	box-sizing: border-box;
}
